<h1><%= t("view.task.index") %></h1>

<%= form_with(scope: :task, local: true, url: tasks_path, method: :GET) do |f| %>
  <%= f.label :title , t("view.task.title")%>
  <%= f.text_field :title %>
  <%= f.submit "検索" %>
<% end %>

<table>
  <ul>
    <tbody class='task_expired_at'>
      <tr>
        <th><%= t("view.task.title") %></th>
        <th><%= t("view.task.content") %></th>
        <th><%= link_to "終了期限", tasks_path(sort_expired: "true") %></th>
        <th><%= t("view.task.status") %></th>
    </tbody>
    </tr>
    <tbody class='task_row'>
      <% @tasks.each do |task| %>
        <tr >
          <td><%= task.title %></td>
          <td><%= task.content %></td>
          <td><%= task.expired_at %></td>
          <td><%= task.status %></td>
          <td><%= link_to t("view.link_to.show"), task_path(task.id) %></td>
          <td><%= link_to t("view.link_to.edit"), edit_task_path(task.id) %></td>
          <td><%= link_to t("view.link_to.destroy"), task_path(task.id), method: :delete %></td>
        </tr>
      <% end %>
    </tbody>
  </ul>
</table>
<%= link_to t("view.link_to.new"), new_task_path %>